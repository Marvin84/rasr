<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Sprint: TransitionModel::Applicator Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Sprint
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>TransitionModel</b></li><li class="navelem"><a class="el" href="classTransitionModel_1_1Applicator.html">Applicator</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classTransitionModel_1_1Applicator-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">TransitionModel::Applicator Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Apply TransitionModel to a flat automaton.  
 <a href="classTransitionModel_1_1Applicator.html#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for TransitionModel::Applicator:</div>
<div class="dyncontent">
<div class="center"><img src="classTransitionModel_1_1Applicator__coll__graph.png" border="0" usemap="#TransitionModel_1_1Applicator_coll__map" alt="Collaboration graph"/></div>
<map name="TransitionModel_1_1Applicator_coll__map" id="TransitionModel_1_1Applicator_coll__map">
<area shape="rect" id="node2" href="classTransitionModel_1_1Applicator_1_1StateDegrees.html" title="TransitionModel::Applicator\l::StateDegrees" alt="" coords="2189,145,2369,187"/>
<area shape="rect" id="node3" href="classFtl_1_1DfsState.html" title="Due to the principle of on&#45;demand computation, exploring automata becomes an important issue as state..." alt="" coords="1857,135,1961,162"/>
<area shape="rect" id="node4" href="classCore_1_1Vector.html" title="Core::Vector\&lt; Fsa::\lStateId \&gt;" alt="" coords="1483,125,1622,167"/>
<area shape="rect" id="node6" href="classCore_1_1Vector.html" title="Core::Vector\&lt; Transition\lModel::Applicator::StateDegrees\l::Degree \&gt;" alt="" coords="1804,51,2015,107"/>
<area shape="rect" id="node8" href="classCore_1_1Ref.html" title="Core::Ref\&lt; const Alphabet \&gt;" alt="" coords="1814,187,2005,214"/>
<area shape="rect" id="node9" href="classAm_1_1TransitionModel.html" title="Model of the transition aspect of HMMs. " alt="" coords="2208,290,2351,317"/>
<area shape="rect" id="node10" href="classCore_1_1Component.html" title="Base class for configurable components with logging and error logging facilities. ..." alt="" coords="1847,242,1972,269"/>
<area shape="rect" id="node11" href="classCore_1_1Configurable.html" title="Abstract base class for run&#45;time configurable classes. " alt="" coords="1487,191,1618,218"/>
<area shape="rect" id="node12" href="classCore_1_1Configuration.html" title="Central configuration class. " alt="" coords="1196,142,1331,169"/>
<area shape="rect" id="node15" href="classConfiguration_1_1Resource.html" title="Item of configuration. " alt="" coords="413,67,548,108"/>
<area shape="rect" id="node16" href="classConfiguration_1_1SourceDescriptor.html" title="Describes where a resource comes from. " alt="" coords="157,5,292,47"/>
<area shape="rect" id="node22" href="classCore_1_1Parameter.html" title="Core::Parameter\&lt; std\l::string \&gt;" alt="" coords="407,248,555,289"/>
<area shape="rect" id="node23" href="classCore_1_1AbstractParameter.html" title="Abstract base class for parameter declaration. " alt="" coords="141,262,308,289"/>
<area shape="rect" id="node14" href="classConfiguration_1_1ResourceDataBase.html" title="Central storage place for all resources. " alt="" coords="769,75,913,116"/>
<area shape="rect" id="node17" href="classCore_1_1XmlChannel.html" title="Configurable XML output stream. " alt="" coords="1488,242,1617,269"/>
<area shape="rect" id="node18" href="classCore_1_1XmlWriter.html" title="Stream adaptor for producing XML output. " alt="" coords="1205,193,1321,219"/>
<area shape="rect" id="node20" href="classCore_1_1Channel.html" title="Configurable text output stream. " alt="" coords="1210,243,1317,270"/>
<area shape="rect" id="node21" href="classCore_1_1ParameterString.html" title="Declaration class for string parameters. " alt="" coords="765,255,917,282"/>
<area shape="rect" id="node27" href="classCore_1_1Parameter.html" title="Core::Parameter\&lt; s32 \&gt;" alt="" coords="579,334,741,361"/>
<area shape="rect" id="node24" href="classCore_1_1Choice.html" title="Choice class. " alt="" coords="1503,371,1602,398"/>
<area shape="rect" id="node25" href="classCore_1_1ParameterChoice.html" title="Declaration class for discrete multiple&#45;choice parameters. " alt="" coords="1830,433,1989,459"/>
<area shape="rect" id="node26" href="classCore_1_1AbstractChoiceParameter.html" title="Core::AbstractChoiceParameter\l\&lt; s32 \&gt;" alt="" coords="941,385,1149,427"/>
<area shape="rect" id="node28" href="classCore_1_1Ref.html" title="Core::Ref\&lt; Fsa::StaticAutomaton \&gt;" alt="" coords="2164,341,2395,367"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structTransitionModel_1_1Applicator_1_1StackItem.html">StackItem</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structTransitionModel_1_1Applicator_1_1State.html">State</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structTransitionModel_1_1Applicator_1_1State.html">State</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structTransitionModel_1_1Applicator_1_1State.html">State</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTransitionModel_1_1Applicator_1_1StateDegrees.html">StateDegrees</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTransitionModel_1_1Applicator_1_1StateDegrees.html">StateDegrees</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a6bc48353284c22410f0f988f664e1e9e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6bc48353284c22410f0f988f664e1e9e"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>Applicator</b> (const <a class="el" href="classAm_1_1TransitionModel.html">TransitionModel</a> &amp;tm)</td></tr>
<tr class="separator:a6bc48353284c22410f0f988f664e1e9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a542b452899fc138cedcf8543a0c895f8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a542b452899fc138cedcf8543a0c895f8"></a>
<a class="el" href="classCore_1_1Ref.html">Fsa::ConstAutomatonRef</a>&#160;</td><td class="memItemRight" valign="bottom"><b>apply</b> (<a class="el" href="classCore_1_1Ref.html">Fsa::ConstAutomatonRef</a> in)</td></tr>
<tr class="separator:a542b452899fc138cedcf8543a0c895f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:a02b1843a228ea86b1ff21157b080de2b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a02b1843a228ea86b1ff21157b080de2b"></a>
typedef std::stack&lt; <a class="el" href="structTransitionModel_1_1Applicator_1_1StackItem.html">StackItem</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>StateStack</b></td></tr>
<tr class="separator:a02b1843a228ea86b1ff21157b080de2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afebfccdc650fb7114660381f420db113"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afebfccdc650fb7114660381f420db113"></a>
typedef std::unordered_map&lt; <a class="el" href="structTransitionModel_1_1Applicator_1_1State.html">State</a>, <a class="el" href="namespaceFsa.html#ae313d991029d7ed22a89b8a66395fdcf">Fsa::StateId</a>, <a class="el" href="structTransitionModel_1_1Applicator_1_1State_1_1Hash.html">State::Hash</a>, <a class="el" href="structTransitionModel_1_1Applicator_1_1State_1_1Equality.html">State::Equality</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>StateMap</b></td></tr>
<tr class="separator:afebfccdc650fb7114660381f420db113"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:adbf3f3743d07b75f076e8c2c84b6bb6a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="adbf3f3743d07b75f076e8c2c84b6bb6a"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>isStateLegitimate</b> (const <a class="el" href="structTransitionModel_1_1Applicator_1_1State.html">State</a> &amp;s) const </td></tr>
<tr class="separator:adbf3f3743d07b75f076e8c2c84b6bb6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb493472d5cccea19cff202675000c05"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aeb493472d5cccea19cff202675000c05"></a>
<a class="el" href="namespaceFsa.html#ae313d991029d7ed22a89b8a66395fdcf">Fsa::StateId</a>&#160;</td><td class="memItemRight" valign="bottom"><b>getStateId</b> (State::Mask m, <a class="el" href="namespaceFsa.html#a726ff0749f3feaa2de2bbf61a526ef53">Fsa::LabelId</a> e, StateType t, <a class="el" href="namespaceFsa.html#ae313d991029d7ed22a89b8a66395fdcf">Fsa::StateId</a> r)</td></tr>
<tr class="separator:aeb493472d5cccea19cff202675000c05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad945acc9037e44666964127ee8ca9627"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad945acc9037e44666964127ee8ca9627"></a>
<a class="el" href="classCore_1_1Ref.html">Core::Ref</a>&lt; Fsa::State &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>createState</b> (const <a class="el" href="structTransitionModel_1_1Applicator_1_1State.html">State</a> &amp;s)</td></tr>
<tr class="separator:ad945acc9037e44666964127ee8ca9627"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1217577c942f6e3631456876b01d8750"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1217577c942f6e3631456876b01d8750"></a>
<a class="el" href="classFsa_1_1Weight.html">Fsa::Weight</a>&#160;</td><td class="memItemRight" valign="bottom"><b>weight</b> (const <a class="el" href="structTransitionModel_1_1Applicator_1_1State.html">State</a> &amp;s, StateTransitionModel::TransitionType type) const </td></tr>
<tr class="separator:a1217577c942f6e3631456876b01d8750"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77106d98a7b9b8ab8f1c4087339e1b15"><td class="memItemLeft" align="right" valign="top">StateType&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTransitionModel_1_1Applicator.html#a77106d98a7b9b8ab8f1c4087339e1b15">stateType</a> (<a class="el" href="namespaceFsa.html#a726ff0749f3feaa2de2bbf61a526ef53">Fsa::LabelId</a> emission) const </td></tr>
<tr class="separator:a77106d98a7b9b8ab8f1c4087339e1b15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5343cc4f5a9858f4826dc35a7e7eeeb"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae5343cc4f5a9858f4826dc35a7e7eeeb"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>doEpsilon</b> (const <a class="el" href="structTransitionModel_1_1Applicator_1_1StackItem.html">StackItem</a> &amp;current, const Fsa::Arc *ra)</td></tr>
<tr class="separator:ae5343cc4f5a9858f4826dc35a7e7eeeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae75a28c999834aec84a55ff23bb7a3c9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae75a28c999834aec84a55ff23bb7a3c9"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>doForward</b> (const <a class="el" href="structTransitionModel_1_1Applicator_1_1StackItem.html">StackItem</a> &amp;current, const Fsa::Arc *ra)</td></tr>
<tr class="separator:ae75a28c999834aec84a55ff23bb7a3c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32842f5b3ce8c5808ebf40e66eb3eff8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a32842f5b3ce8c5808ebf40e66eb3eff8"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>doLoop</b> (const <a class="el" href="structTransitionModel_1_1Applicator_1_1StackItem.html">StackItem</a> &amp;current)</td></tr>
<tr class="separator:a32842f5b3ce8c5808ebf40e66eb3eff8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af007a64c4755a8d31611e1bce0574641"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af007a64c4755a8d31611e1bce0574641"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>doSkip</b> (const <a class="el" href="structTransitionModel_1_1Applicator_1_1StackItem.html">StackItem</a> &amp;current, const Fsa::Arc *ra)</td></tr>
<tr class="separator:af007a64c4755a8d31611e1bce0574641"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49b6314df21ace4f20d826df0b289965"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a49b6314df21ace4f20d826df0b289965"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>doExit</b> (const <a class="el" href="structTransitionModel_1_1Applicator_1_1StackItem.html">StackItem</a> &amp;current, const Fsa::Arc *ra)</td></tr>
<tr class="separator:a49b6314df21ace4f20d826df0b289965"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30bccb73fa7144190dda208164df96fd"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a30bccb73fa7144190dda208164df96fd"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>doDischarge</b> (const <a class="el" href="structTransitionModel_1_1Applicator_1_1StackItem.html">StackItem</a> &amp;current)</td></tr>
<tr class="separator:a30bccb73fa7144190dda208164df96fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a2f75ba784dc5522cd19f7b2be67d2bcf"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2f75ba784dc5522cd19f7b2be67d2bcf"></a>
const <a class="el" href="classAm_1_1TransitionModel.html">TransitionModel</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>transitionModel_</b></td></tr>
<tr class="separator:a2f75ba784dc5522cd19f7b2be67d2bcf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a030912a83f39778beb534eb110382d7f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a030912a83f39778beb534eb110382d7f"></a>
<a class="el" href="namespaceFsa.html#a726ff0749f3feaa2de2bbf61a526ef53">Fsa::LabelId</a>&#160;</td><td class="memItemRight" valign="bottom"><b>silenceLabel_</b></td></tr>
<tr class="separator:a030912a83f39778beb534eb110382d7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa410f343b2b4281d787372fe190734b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afa410f343b2b4281d787372fe190734b"></a>
<a class="el" href="classCore_1_1Ref.html">Fsa::ConstAutomatonRef</a>&#160;</td><td class="memItemRight" valign="bottom"><b>in_</b></td></tr>
<tr class="separator:afa410f343b2b4281d787372fe190734b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08c9715b20303660c7636ccfa3612ba5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a08c9715b20303660c7636ccfa3612ba5"></a>
<a class="el" href="classCore_1_1Ref.html">Core::Ref</a>&lt; <a class="el" href="classFtl_1_1StaticAutomaton.html">Fsa::StaticAutomaton</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>t_</b></td></tr>
<tr class="separator:a08c9715b20303660c7636ccfa3612ba5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fbe1242332405af7a0baffed340c03c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6fbe1242332405af7a0baffed340c03c"></a>
<a class="el" href="namespaceFsa.html#aed2b7f9150f889dd08c2e6be52b17809">Fsa::ConstAlphabetRef</a>&#160;</td><td class="memItemRight" valign="bottom"><b>alphabet_</b></td></tr>
<tr class="separator:a6fbe1242332405af7a0baffed340c03c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c726fe0eb1b084f2e7318cde7f92e95"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9c726fe0eb1b084f2e7318cde7f92e95"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>applyExitTransitionToFinalStates_</b></td></tr>
<tr class="separator:a9c726fe0eb1b084f2e7318cde7f92e95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae565e460e6467c1e5d1cacf11d5bab46"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae565e460e6467c1e5d1cacf11d5bab46"></a>
<a class="el" href="classTransitionModel_1_1Applicator_1_1StateDegrees.html">StateDegrees</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>rightStateDegrees_</b></td></tr>
<tr class="separator:ae565e460e6467c1e5d1cacf11d5bab46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae569e8a9a938696b897a90be31cd7a94"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae569e8a9a938696b897a90be31cd7a94"></a>
StateStack&#160;</td><td class="memItemRight" valign="bottom"><b>todo_</b></td></tr>
<tr class="separator:ae569e8a9a938696b897a90be31cd7a94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1a669d464a8e2b0eed6940fb83aa1b8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa1a669d464a8e2b0eed6940fb83aa1b8"></a>
StateMap&#160;</td><td class="memItemRight" valign="bottom"><b>states_</b></td></tr>
<tr class="separator:aa1a669d464a8e2b0eed6940fb83aa1b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a2434e0be8faeb09084752f6e1472cba5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2434e0be8faeb09084752f6e1472cba5"></a>
class&#160;</td><td class="memItemRight" valign="bottom"><b>TransitionModel</b></td></tr>
<tr class="separator:a2434e0be8faeb09084752f6e1472cba5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Apply TransitionModel to a flat automaton. </p>
<p>What is does: The purpose of this algorithm is to add loop and skip transitions to a "flat" automaton. (Flat meaning that it does not contain loops and skips.) The emission labels, i.e. the labels that are repeated or skipped are on the input side of the automaton, while the output labels will be unchanged.</p>
<p>This can be viewed as a specialized compose algorithm for the time-distortion transducer (left) and a given automaton (right). If you read on, you will discover that considerable care must be taken to creating compact results.</p>
<p>How it works: The state space is expanded so that we remember the most recent emission label, this is called "left state" in the following. "Right state" refers to the corresponding state in the original automaton. This expansion is necessary to provide the loop transitions. The representation of the left state is rather verbose. It consists of a mask stating which kinds of transition are possible, a reference to the state's transition model, and of course the most recent emission label. In fact only a small number of combinations of the possible values are actually used. (One could slim down the data structure to represent only the valid combinations. However priority was given to clarity and maintainability of the code, over the small increase in efficiency.) The function isStateLegitimate() specifies which potential states can be used. It is good to make these constraints as tight as possible in order to ensure the result automaton does not contain unnecessary states.</p>
<p>The most recent emission label may be empty (Fsa::Epsilon). We call this a "discharged" state. This happens for three reasons: 1) At the word start no emission label has been consumed. 2) After processing an input epsilon arc. 3) In some situations we deliberately forget the emission label (see below).</p>
<p>In the expanded state space, loop transitions are simple to implement. (In "discharged" states they are not allowed.) Concerning the other (forward, exit and skip) transitions, there is a little twist: When a right state has multiple incoming and outgoing arcs, we choose to first discharge the recent-most emission label by going to an appropriate left state via an epsilon transition. The alternative would be to avoid the epsilon transition and directly connect to all successor states. However, in practice this would dramatically increase the total number of arcs needed. So discharging is the preferable alternative. The discharged state can be thought of as the state when we have decided to leave the current state, but not yet chosen where to go to. As mentioned before, the appropriate set of transition weights is recorded, so that we know what to do when we forward or skip from the discharged state.</p>
<p>Concerning skips: In general, a skip consists of two transitions: First an epsilon transition goes to an intermediate state that allows a forward only, and then another transition leads to the target state. In "favorable" situations this is optimized into a single transitions (skip optimization). If you have read so far, you are certainly able to figure out what these favorable conditions are.</p>
<p>As you noticed, there is some freedom in designing the discharge transitions. It turns out that compact results can be obtained by combining the forward discharge with the intermediate skip states, and to combine exit and loop discharge states.</p>
<p>Any disambiguator label is interpreted as a word boundary and is given the following special treatment: No loop transition, since the word boundary cannot be repeated. No skip transitions: The word boundary cannot be skipped and the final state before the boundary cannot be skipped. The latter is done for consistency with WordConditionedTreeSearch.</p>
<p>Once the state space is constructed as describe above, it is relatively straight forward to figure out, which transition weight (aka time distortion penalty or TDP) must be applied to which arc. Unfortunately the current scheme is not able to distinguish phone-1 from phone-2 states. This will require additional state space expansion by counting repetitive emission labels. Alternatively, and probably simpler, we change the labels to allow the distinction between phone-1 and phone-2.</p>
<p>Todo:</p><ul>
<li>An even better condition for discharging would be: (number of DIFFERENT incoming arc labels &gt; 1) &amp;&amp; (number of outgoing arcs &gt; 1) Presently it is (number of incoming arcs &gt; 1) &amp;&amp; (number of outgoing arcs &gt; 1).</li>
<li>Implement proper distinction between between phone-1 and phone-2 states.</li>
<li>Reconsider the transition model. (see discussion in Wiki)</li>
<li>It might be nice to convert this to lazy evaluation (should be straight forward). </li>
</ul>

<p>Definition at line <a class="el" href="TransitionModel_8cc_source.html#l00248">248</a> of file <a class="el" href="TransitionModel_8cc_source.html">TransitionModel.cc</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a77106d98a7b9b8ab8f1c4087339e1b15"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">StateType TransitionModel::Applicator::stateType </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceFsa.html#a726ff0749f3feaa2de2bbf61a526ef53">Fsa::LabelId</a>&#160;</td>
          <td class="paramname"><em>emission</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000003">Todo:</a></b></dt><dd>proper distinction between phone-1 and phone-2 states </dd></dl>

<p>Definition at line <a class="el" href="TransitionModel_8cc_source.html#l00441">441</a> of file <a class="el" href="TransitionModel_8cc_source.html">TransitionModel.cc</a>.</p>

<p>References <a class="el" href="Core_2Component_8cc_source.html#l00255">Core::Component::criticalError()</a>, <a class="el" href="TransitionModel_8cc_source.html#l00335">TransitionModel::Applicator::State::emission</a>, <a class="el" href="ProgressIndicator_8cc_source.html#l00317">Core::ProgressIndicator::finish()</a>, <a class="el" href="StringUtilities_8cc_source.html#l00106">Core::form()</a>, <a class="el" href="ReferenceCounting_8hh_source.html#l00287">Core::Ref&lt; T &gt;::get()</a>, <a class="el" href="Alphabet_8cc_source.html#l00058">Fsa::Alphabet::isDisambiguator()</a>, <a class="el" href="TransitionModel_8cc_source.html#l00334">TransitionModel::Applicator::State::mask</a>, <a class="el" href="ProgressIndicator_8hh_source.html#l00138">Core::ProgressIndicator::notify()</a>, <a class="el" href="Phoneme_8cc_source.html#l00102">Bliss::PhonemeInventory::parseSelection()</a>, <a class="el" href="ReferenceCounting_8hh_source.html#l00301">Core::ref()</a>, <a class="el" href="WeightedAccumulator_8hh_source.html#l00210">require</a>, <a class="el" href="ReferenceCounting_8hh_source.html#l00230">Core::Ref&lt; T &gt;::reset()</a>, <a class="el" href="ProgressIndicator_8cc_source.html#l00255">Core::ProgressIndicator::start()</a>, <a class="el" href="WeightedAccumulator_8hh_source.html#l00310">verify</a>, <a class="el" href="Core_2Component_8cc_source.html#l00225">Core::Component::warning()</a>, and <a class="el" href="TransitionModel_8cc_source.html#l00336">TransitionModel::Applicator::State::weights</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="TransitionModel_8cc_source.html">TransitionModel.cc</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
