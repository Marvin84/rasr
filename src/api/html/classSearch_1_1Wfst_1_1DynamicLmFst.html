<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Sprint: Search::Wfst::DynamicLmFst Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Sprint
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceSearch.html">Search</a></li><li class="navelem"><b>Wfst</b></li><li class="navelem"><a class="el" href="classSearch_1_1Wfst_1_1DynamicLmFst.html">DynamicLmFst</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classSearch_1_1Wfst_1_1DynamicLmFst-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Search::Wfst::DynamicLmFst Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A Grammar Fst with on-demand computation of states and arcs based on an underlying <a class="el" href="classLm_1_1LanguageModel.html" title="Abstract language model. ">Lm::LanguageModel</a>.  
 <a href="classSearch_1_1Wfst_1_1DynamicLmFst.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="DynamicLmFst_8hh_source.html">DynamicLmFst.hh</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for Search::Wfst::DynamicLmFst:</div>
<div class="dyncontent">
<div class="center"><img src="classSearch_1_1Wfst_1_1DynamicLmFst__inherit__graph.png" border="0" usemap="#Search_1_1Wfst_1_1DynamicLmFst_inherit__map" alt="Inheritance graph"/></div>
<map name="Search_1_1Wfst_1_1DynamicLmFst_inherit__map" id="Search_1_1Wfst_1_1DynamicLmFst_inherit__map">
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for Search::Wfst::DynamicLmFst:</div>
<div class="dyncontent">
<div class="center"><img src="classSearch_1_1Wfst_1_1DynamicLmFst__coll__graph.png" border="0" usemap="#Search_1_1Wfst_1_1DynamicLmFst_coll__map" alt="Collaboration graph"/></div>
<map name="Search_1_1Wfst_1_1DynamicLmFst_coll__map" id="Search_1_1Wfst_1_1DynamicLmFst_coll__map">
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:ab1a952f2e99119fe7d2b49ba895b3bcf"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab1a952f2e99119fe7d2b49ba895b3bcf"></a>
typedef DynamicLmFstImpl::Arc&#160;</td><td class="memItemRight" valign="bottom"><b>Arc</b></td></tr>
<tr class="separator:ab1a952f2e99119fe7d2b49ba895b3bcf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc34e4cdaf66c94a782559ab6504c583"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abc34e4cdaf66c94a782559ab6504c583"></a>
typedef Arc::Label&#160;</td><td class="memItemRight" valign="bottom"><b>Label</b></td></tr>
<tr class="separator:abc34e4cdaf66c94a782559ab6504c583"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27642ced8aa6659d9ad55859130d0e85"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a27642ced8aa6659d9ad55859130d0e85"></a>
typedef Arc::Weight&#160;</td><td class="memItemRight" valign="bottom"><b>Weight</b></td></tr>
<tr class="separator:a27642ced8aa6659d9ad55859130d0e85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1511d7b7a2352f77a082e44ed86376dc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1511d7b7a2352f77a082e44ed86376dc"></a>
typedef Arc::StateId&#160;</td><td class="memItemRight" valign="bottom"><b>StateId</b></td></tr>
<tr class="separator:a1511d7b7a2352f77a082e44ed86376dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ba8f487af67de92b6a72e4eb6d3b8a4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2ba8f487af67de92b6a72e4eb6d3b8a4"></a>
typedef FstLib::CacheState&lt; Arc &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>State</b></td></tr>
<tr class="separator:a2ba8f487af67de92b6a72e4eb6d3b8a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7dbf5e887a924c8c14b4e035dd7cefec"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7dbf5e887a924c8c14b4e035dd7cefec"></a>
typedef <a class="el" href="classSearch_1_1Wfst_1_1DynamicLmFstImpl.html">DynamicLmFstImpl</a>&#160;</td><td class="memItemRight" valign="bottom"><b>Impl</b></td></tr>
<tr class="separator:a7dbf5e887a924c8c14b4e035dd7cefec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a584fee88f216d27bcad6741f76f0a311"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a584fee88f216d27bcad6741f76f0a311"></a>
typedef Impl::Store&#160;</td><td class="memItemRight" valign="bottom"><b>Store</b></td></tr>
<tr class="separator:a584fee88f216d27bcad6741f76f0a311"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab67c2fac3116ae6a3f347f867a7ffbeb"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab67c2fac3116ae6a3f347f867a7ffbeb"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>DynamicLmFst</b> (const <a class="el" href="structSearch_1_1Wfst_1_1DynamicLmFstOptions.html">DynamicLmFstOptions</a> &amp;opts)</td></tr>
<tr class="separator:ab67c2fac3116ae6a3f347f867a7ffbeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71dd717dd4db630d8363d6eff8543fdc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a71dd717dd4db630d8363d6eff8543fdc"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>DynamicLmFst</b> (const <a class="el" href="classSearch_1_1Wfst_1_1DynamicLmFst.html">DynamicLmFst</a> &amp;fst, bool safe=false)</td></tr>
<tr class="separator:a71dd717dd4db630d8363d6eff8543fdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5034aeb64dfc66bafdd8112ed8bf6965"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5034aeb64dfc66bafdd8112ed8bf6965"></a>
virtual <a class="el" href="classSearch_1_1Wfst_1_1DynamicLmFst.html">DynamicLmFst</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>Copy</b> (bool safe=false) const </td></tr>
<tr class="separator:a5034aeb64dfc66bafdd8112ed8bf6965"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a187b21d94f57a4bb6652dcad97bc4f79"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a187b21d94f57a4bb6652dcad97bc4f79"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>InitStateIterator</b> (FstLib::StateIteratorData&lt; Arc &gt; *data) const </td></tr>
<tr class="separator:a187b21d94f57a4bb6652dcad97bc4f79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af623c256068d5cc2d730f2b14d0e2bf1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af623c256068d5cc2d730f2b14d0e2bf1"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>InitArcIterator</b> (StateId s, FstLib::ArcIteratorData&lt; Arc &gt; *data) const </td></tr>
<tr class="separator:af623c256068d5cc2d730f2b14d0e2bf1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca73da82c2c92f0485f3a4cc172878d1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aca73da82c2c92f0485f3a4cc172878d1"></a>
virtual FstLib::MatcherBase&lt; Arc &gt; *&#160;</td><td class="memItemRight" valign="bottom"><b>InitMatcher</b> (FstLib::MatchType match_type) const </td></tr>
<tr class="separator:aca73da82c2c92f0485f3a4cc172878d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94cdf6765397dcc796f8350ba7fd7e84"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a94cdf6765397dcc796f8350ba7fd7e84"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>SetLabelMapping</b> (const std::vector&lt; std::pair&lt; Label, Label &gt;&gt; &amp;map)</td></tr>
<tr class="separator:a94cdf6765397dcc796f8350ba7fd7e84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d39f6ecd8a399aacca16b9d9691bee2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9d39f6ecd8a399aacca16b9d9691bee2"></a>
const <a class="el" href="classLm_1_1History.html">Lm::History</a>&#160;</td><td class="memItemRight" valign="bottom"><b>LmHistory</b> (StateId s) const </td></tr>
<tr class="separator:a9d39f6ecd8a399aacca16b9d9691bee2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:ae43956af7e1aa9b6a37ab84d6fbac5b6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae43956af7e1aa9b6a37ab84d6fbac5b6"></a>
<a class="el" href="classSearch_1_1Wfst_1_1DynamicLmFstImpl.html">Impl</a> const *&#160;</td><td class="memItemRight" valign="bottom"><b>GetImpl</b> () const </td></tr>
<tr class="separator:ae43956af7e1aa9b6a37ab84d6fbac5b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeba2d9c849024423a7785c0edb41d9c2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aeba2d9c849024423a7785c0edb41d9c2"></a>
<a class="el" href="classSearch_1_1Wfst_1_1DynamicLmFstImpl.html">Impl</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>GetMutableImpl</b> ()</td></tr>
<tr class="separator:aeba2d9c849024423a7785c0edb41d9c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d0d4b9adcbc218b54c9edba96832e12"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5d0d4b9adcbc218b54c9edba96832e12"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (const <a class="el" href="classSearch_1_1Wfst_1_1DynamicLmFst.html">DynamicLmFst</a> &amp;fst)</td></tr>
<tr class="separator:a5d0d4b9adcbc218b54c9edba96832e12"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:afe7266ec20548c1d8d90f3ff23e4a814"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afe7266ec20548c1d8d90f3ff23e4a814"></a>
class&#160;</td><td class="memItemRight" valign="bottom"><b>FstLib::ArcIterator&lt; DynamicLmFst &gt;</b></td></tr>
<tr class="separator:afe7266ec20548c1d8d90f3ff23e4a814"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade9b527fe4b3d84689c9b081c7200c9e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ade9b527fe4b3d84689c9b081c7200c9e"></a>
class&#160;</td><td class="memItemRight" valign="bottom"><b>FstLib::StateIterator&lt; DynamicLmFst &gt;</b></td></tr>
<tr class="separator:ade9b527fe4b3d84689c9b081c7200c9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A Grammar Fst with on-demand computation of states and arcs based on an underlying <a class="el" href="classLm_1_1LanguageModel.html" title="Abstract language model. ">Lm::LanguageModel</a>. </p>
<p>In contrast to a conventional grammar WFST, the dynamic LM FST does not contain backing-off (epsilon) transitions. Instead, a state representing history h = ..,u,v has an arc for each word in the vocabulary w with weight p(w|h) and target state h' = ..,u,v,w (or shortened, depending on the LM order). The computation of p(w|h) may involve backing-off weights, which is not represented by the structure of the FST though. It is important to note, that each state has an arc for every word in the vocabulary, which makes it very expensive to iterate over all arcs. The number of states is equal to the number of histories in the LM.</p>
<p>Note that histories may be truncated. For example in a 3-gram LM, the arc leaving state h = u,v with input w, weight p(w|h) may have the target states h' = v,w or h' = w or even the empty history, depending on whether the LM contains events with history v,w / w. </p>

<p>Definition at line <a class="el" href="DynamicLmFst_8hh_source.html#l00193">193</a> of file <a class="el" href="DynamicLmFst_8hh_source.html">DynamicLmFst.hh</a>.</p>
</div><hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="DynamicLmFst_8hh_source.html">DynamicLmFst.hh</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
